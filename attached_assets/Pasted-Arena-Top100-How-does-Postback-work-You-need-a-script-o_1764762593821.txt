Arena Top100:

How does Postback work?
You need a script on your server which we call once someone votes for you. See the php example for a basic integration based on the default callback below.

Default callback
This method works for most of our website users. Simply pass the voter username/id along with the vote link.

Place your callback url ( web accessable url of the script you created ) within your account settings.
Let your users vote using the following url
https://www.arena-top100.com/index.php?a=in&u=[ARENA-TOP100-USERNAME]&id=[PlayerID]
You can pass any of the 3 following variables within the vote link. id=[PlayerID] or postback=[PlayerID] or incentive=[PlayerID]
Replace [ARENA-TOP100-USERNAME] with your username on https://www.arena-top100.com.
Replace [PlayerID] with the ID that you identify your player with.
Dynamic callback
On some systems, you might need some more fine control or need to pass extra dynamic variables back to your callback script. In that case you could use this method.

In such a case, you can either completely drop the id, postback or incentive parameters and pass your own user parameter, or extend your link with a callback parameter.

https://www.arena-top100.com/index.php?a=in&u=[ARENA-TOP100-USERNAME]&callback=[base64_encode]
In this method you need pass a base64_encode url, which includes whatever you need in your callback url
Replace [ARENA-TOP100-USERNAME] with your username on https://www.arena-top100.com.
Replace [base64_encode] with a url, encoded with php's base64_encode() along with urlencode() to make it safe for url handling.
$callback_url = urlencode(base64_encode('https://mysite.com/callback_script.php?user=voter_username&extra_parameter=some_value'));
echo 'https://www.arena-top100.com/index.php?a=in&u=[ARENA-TOP100-USERNAME]&callback='.$callback_url;
What variables do we sent back to you?
Following variables are sent as $_POST and $_GET in both callback methods

secret - Used to validate the request came from Arena-Top100. Either TEST when you use our test callback page in developement, or YOUR_API_SECRET which you can find in your dashboard when switching into production.
voted - either 1 to indicate a successful vote or 0 for a failed/duplicated one.
userip - Contains the voters ip.
userid - If present, contains the voters username/ID as passed by you in your vote link via id=[PlayerID] or postback=[PlayerID] or incentive=[PlayerID].
custom - If present ( see dynamic callback ), holds reference to the base64_encoded string as passed by you via callback=[base64_encode]. Which you could decode to get your desired parameter if you only allow $_POST or ignore it and simply access your own parameters via $_GET


RSPS100


Callback
1. Alter the voting link for your site by adding /USER at end like:
http://rsps100.com/vote/YOURSERVERID/USER
YOURSERVERID (part already included in voting code).
USER is the account identifier for your player. It can be numbers, letters and underscore only.

2. Create your own postback.php PHP/MYSQL script. See example below.
3. Enter your Callback URL on Edit Server.

Only in case of a valid vote we send response with parameters USER to your defined Callback URL like:

http://yourdomain/callback.php?user=USER

Custom callback.php

define("TEST", 0); //set to 1 to make logs
define("LOG_FILE", "voting.log"); //if TEST is 1 will create this file as logs
$user = preg_replace('/[^A-Za-z0-9_]{1,64}/','',trim($_GET['user'])); //clean USER 1 to 64 letters, numbers and _
if(!$user || empty($user))
{
	if(TEST == true) {	
		error_log(date('[Y-m-d H:i] '). "[Invalid USER] No USER or invalid." . PHP_EOL, 3, LOG_FILE);
	}
}
else
{
	//Connect to DB
	$user = mysql_escape_string($user); //prevent SQL injection 
	//(1) check if $user exists 
	//(2) check if $user voted in last 12 hours
	//(3) insert new record, user vote + time
	//(4) run query to give reward to $user
	//Close DB connection
		
	if(TEST == true) {	
		error_log(date('[Y-m-d H:i] '). "[OK] Vote from USER: $user" . PHP_EOL, 3, LOG_FILE);
	}
}